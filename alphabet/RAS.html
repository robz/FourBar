<html>
<style>
body {
    text-align: center;
    margin: 0 auto;
}

canvas {
    margin: 1px 0px 0px 0px;
    padding: 0px 0px 0px 0px;
}
</style>
<div id="container"></div>
<script>
Math.euclid = function (p1, p2) {
    var dx = p1.x - p2.x,
        dy = p1.y - p2.y;
    return Math.sqrt(dx * dx + dy * dy);
};
</script>
<script src="../plotjs/plot.js"></script>
<script src="../scrollbar/scrollbar.js"></script>
<script src="../fourbar/src/fourbar.js"></script>
<script src="../fivebar/src/fivebar.js"></script>
<script src="../fivebar/src/fivebar-coupler.js"></script>
<script src="../fivebar/src/multifivebar-coupler-animator.js"></script>
<script>
(function () {
    "use strict";

    var scale = function (letter, s) {
            letter.P5.x *= s;
            letter.P5.y *= s;
            ["a1", "a2", "a3", "a4", "a5"].forEach(function(elem) {
                letter[elem] *= s;
            });
        },
        
        move = function (letter, x, y) {
            letter.P1.x += x;
            letter.P1.y += y;
            letter.P5.x += x;
            letter.P5.y += y;
        },
    
        alphabet = {
            A: {"P1":{"x":0,"y":0},"P5":{"x":-1.0778157916711084,"y":5.768165836661112},"a1":1.0980000000000005,"a2":2.856,"a3":6.1000000000000005,"a4":1.3079999999999998,"a5":0.8140000000000003,"speed1":1,"speed2":2,"theta2_phase":1.824637013204952,"theta3":3.492194393730414},    
            B: {"P1":{"x":0,"y":0},"P5":{"x":4.1402,"y":-2.3649},"a1":2,"a2":4,"a3":5.198,"a4":1.418,"a5":2.76,"speed1":2,"speed2":1,"theta2_phase":4.4095,"theta3":5.073},
            Q: {"P1":{"x":0,"y":0},"P5":{"x":1.0188,"y":-0.7208},"a1":3.034,"a2":5.694,"a3":5.528,"a4":2.178,"a5":4.19,"speed1":3,"speed2":4,"theta2_phase":1.47906,"theta3":3.55251},
            R: {"P1":{"x":0,"y":0},"P5":{"x":3.793923815510016,"y":-2.1966858800565343},"a1":2.4619999999999997,"a2":4,"a3":5.462000000000001,"a4":1.308,"a5":1.6159999999999997,"speed1":2,"speed2":1,"theta2_phase":1.3684383113250809,"theta3":4.3265575855070635},
            S: {"P1":{"x":0,"y":0},"P5":{"x":3.928307468042183,"y":0.6874186762985419},"a1":0.8119999999999998,"a2":5.759999999999999,"a3":5.176000000000001,"a4":0.9680000000000002,"a5":3.112,"speed1":1,"speed2":3,"theta2_phase":0.34557519189487773,"theta3":2.101097166720855}
        },
    
        plot = new Plot({
            container: "container",
            pixelWidth: 800,
            pixelHeight: 700,
            minX: -13,
            maxX: 15,
            minY: -24/2,
            maxY: 24/2,
            pointRadius: 0.2,
            lineWidth: 0.1,
            drawColor: "black",
            backgroundColor: "white"
            });

    move(alphabet.R, -10, -2.5);
    scale(alphabet.A, 1.8);
    move(alphabet.A, 2.3, -1);
    scale(alphabet.S, 1.8);
    move(alphabet.S, 6, -9);
    
    var fiveBars = [
        new FiveBarCoupler(alphabet.R),
        new FiveBarCoupler(alphabet.A),
        new FiveBarCoupler(alphabet.S)
    ];
    
    fiveBars[0].phase = 0;
    fiveBars[1].phase = 0;
    fiveBars[2].phase = 0;
            
    var animator = new MultiFiveBarCouplerAnimator({
        plot: plot,
        fiveBars: fiveBars,
        speedRatio: .5
        });
})();
</script>
</html>